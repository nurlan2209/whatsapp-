#!/bin/bash

echo "🚀 Настройка продвинутого WhatsApp бота..."

# Создаем необходимые папки
mkdir -p data
mkdir -p uploads

# Создаем примеры файлов для импорта
cat > uploads/example-numbers.txt << 'EOF'
+77012345678,Иван Петров
+77087654321,Мария Сидорова
+77123456789,Алексей Козлов
77555666777
+7-701-234-56-78,Анна Николаева
EOF

cat > uploads/example-csv.csv << 'EOF'
+77011111111,Клиент 1
+77022222222,Клиент 2  
+77033333333,Клиент 3
EOF

# Создаем README для папки uploads
cat > uploads/README.md << 'EOF'
# Папка для импорта номеров

## Поддерживаемые форматы:

### Простой список:
```
+77012345678
77087654321
+7-701-234-56-78
```

### С именами (через запятую):
```
+77012345678,Иван Петров
+77087654321,Мария Сидорова
```

### С именами (через точку с запятой):
```
+77012345678;Иван Петров
+77087654321;Мария Сидорова
```

## Команды для импорта:

- `!scan` - Сканировать все файлы в папке
- `!import uploads/файл.txt` - Импорт конкретного файла

## Советы:

1. Используйте расширения .txt или .csv
2. Один номер на строку
3. Международный формат: +7XXXXXXXXXX
4. Имена опциональны, но помогают персонализировать сообщения
EOF

echo "✅ Папки созданы:"
echo "   📁 data/ - для хранения контактов и статистики"
echo "   📁 uploads/ - для файлов с номерами"
echo ""
echo "📄 Примеры файлов созданы в uploads/"
echo ""
echo "🚀 Теперь запустите: npm start"